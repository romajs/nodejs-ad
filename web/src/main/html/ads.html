<div class="container">

  <div class="page-header">
    <h1 translate>page.adViews.title</h1>
  </div>

  <div class="jumbotron" ng-if="ads.length === 0">
    <h1>Ooops...</h1>
    <br/>
    <p translate>page.adViews.noneFound</p>
    <p>:(</p>
    <br/>
    <p><a class="btn btn-primary btn-lg" ng-click="$back()" translate>history.back</a></p>
  </div>

  <div class="ads" ng-repeat="ad in ads">
    <!-- {{ad|json}} -->
    <div class="row ad vertical-center" ui-sref="adView({ id: ad._id})" title="{{'page.adViews.viewDetails'|translate}}">
      <div class="col-sm-3">
        {{ first_attachment = first_attachments[ad._id]; "" }}
        <div class="thumbnail">
          <img ng-src="{{ first_attachment ? first_attachment.secure_url : '/image/no-ad-image.png' }}" width="100%" height="100%" title="{{ first_attachment ? first_attachment.name + ' (' + first_attachment.type + ') ' + hrSize(first_attachment.size) : translate('page.adViews.noImageAvailable') }}"/>
        </div>
      </div>
      <div class="col-sm-9">
        <div class="row ad-title">
          <div class="col-xs-8">
          <!-- {{ bookmarkedIndex = bookmarks.indexOf(ad._id); "" }} -->
          <!-- <i class="fa ad-bookmark" ng-class="{ 'fa-star' : bookmarkedIndex > -1, 'fa-star-o' : bookmarkedIndex == -1}" ng-click="bookmark(ad._id, bookmarkedIndex); $event.stopPropagation();" title="{{ !ad.bookmarkd ? translate('page.adViews.bookmark') : translate('page.adViews.bookmark.undo') }}"></i> -->
          <a>{{ad.title}}</a>
        </div>
        <div class="col-xs-4" style="text-align: right;">
          <!-- <b class="ad-value">R$ {{ad.value|number:2}}</b> -->
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12 ad-detail">
          <span class="">{{ad.details}}</span>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <div class="ad-creation-info pull-left"">
            <div class="inline-block capitalize-first-letter" ng-if="ad.created_at">
              <span translate>created_at</span>
              <span>{{ad.created_at|date:'dd/MM/yyyy'}}</span>
              <span translate>at</span>
              <span>{{ad.created_at|date:'HH:mm'}}</span>
            </div>
            <span ng-if="ad.created_at && ad.updated_at">-</span>
            <div class="inline-block capitalize-first-letter" ng-if="ad.updated_at">
              <span translate>updated_at</span>
              <span>{{ad.updated_at|date:'dd/MM/yyyy'}}</span>
              <span translate>at</span>
              <span>{{ad.updated_at|date:'HH:mm'}}</span>
            </div>
            <span>{{'by'|translate}}</span>
            {{ user = users[ad.user_id]; "" }}
            <a ui-sref="user({ id: user._id})" title="{{'page.adViews.viewAdUserDetails'|translate}}" ng-click="$event.stopPropagation();">{{user.name}}</a>
          </div>
          <div class="pull-right ad-value-info ad-value-selling" title="{{'ad.type.SELL.info'|translate}}">
            <span class="ad-value-type uppercase" translate>ad.type.SELL</span>
            <!-- <i class="fa fa-money"></i> -->
            <span class="ad-value">R$ {{ad.value|number:2}}</span>
            <!-- <div class="ad-evaluation" ng-click="$event.stopPropagation();" title="{{'page.adViews.evaluate'|translate}}">
            <i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>
          </div> -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
